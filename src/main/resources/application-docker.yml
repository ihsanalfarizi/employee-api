spring:
  datasource:
    # Koneksi ke database PostgreSQL
    url: jdbc:postgresql://employee-postgres:5432/employeedb
    # User database
    username: employee
    # Password database
    password: employee123
    driver-class-name: org.postgresql.Driver
    hikari:
      # Maks jumlah koneksi yang dipakai aplikasi
      maximum-pool-size: 10
      # Jumlah koneksi standby
      minimum-idle: 2
      # Waktu tunggu koneksi sebelum timeout (ms)
      connection-timeout: 60000
      # Koneksi idle ditutup setelah waktu ini (ms)
      idle-timeout: 600000
      # Masa hidup koneksi maksimal (ms)
      max-lifetime: 1800000
      # Supaya aplikasi tetap jalan meskipun awal koneksi lambat
      initialization-fail-timeout: -1
  
  jpa:
    hibernate:
      # update = tabel otomatis dibuat/diupdate sesuai Entity (data aman tidak terhapus)
      ddl-auto: update
    # Tampilkan query SQL di console
    show-sql: true
    properties:
      hibernate:
        # Biar query SQL terlihat rapi
        format_sql: true
        # Pakai dialek PostgreSQL
        dialect: org.hibernate.dialect.PostgreSQLDialect
        jdbc:
          # Biar waktu/tanggal konsisten
          time_zone: UTC
  
  # Pengaturan Swagger (Dokumentasi API)
  springdoc:
    api-docs:
      path: /v3/api-docs
    swagger-ui:
      # Swagger UI bisa dibuka lewat browser:
      # http://localhost:8080/swagger-ui.html
      path: /swagger-ui.html
      enabled: true
      # Urutkan daftar API biar rapi
      tags-sorter: alpha
      operations-sorter: alpha

server:
  # Port aplikasi
  port: 8080
  forward-headers-strategy: framework

logging:
  level:
    # Log standar
    root: INFO
    # Log dalam project sendiri dibuat lebih detail
    com.juke.employeeapi: DEBUG
    # Log request web
    org.springframework.web: INFO
    # Log query SQL dari Hibernate
    org.hibernate.SQL: DEBUG
    # Log nilai parameter yang masuk ke query
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

management:
  endpoints:
    web:
      # Endpoint monitoring yang diaktifkan
      include: health,info,metrics
  endpoint:
    health:
      # Tampilkan detail status aplikasi
      show-details: always
